<!-- post list -->
{{ range $index, $element := $.Paginator.Pages }}
<div class="post-preview">
    <a href="{{ .Permalink }}">
        {{ $summary := .Summary}}
        {{$readtime := math.Round (div ( countwords $summary) 220.0)}}
        <h2 class="post-title">
            {{ .Title }}
        </h2>
        {{with .Params.subtitle }}
        <!--<h3 class="post-subtitle">-->
             <p class="post-subtitle" >{{ . }}&nbsp;<i class="fas fa-clock"></i>&nbsp;{{ math.Round (div ( countwords $summary) 220.0) }} min read</p>
        <!--</h3>-->
        {{ end }}


        <div class="post-meta">
            <!--todo: merge variable in one not empty, check with ifempty-->
	    {{ with .Description }}

            {{ . }}
        {{ else }}

            {{truncate 300 $summary}}

       {{ end }}
        </div>

    </a>
    <br>
    <p class="post-meta">
        <i class="fas fa-user"></i>
            {{ with .Params.author }}{{ . }}{{ else }}{{ .Site.Title }}{{ end }} &nbsp;
        <i class="fas fa-calendar"></i>
            {{ .Date.Format "January 2, 2006" }}
    <!-- Don't show "Last Modified on" if update happened on the same day. -->
    {{ if (and (not .Lastmod.IsZero) (not (eq (dateFormat "2006-01-02" .Lastmod) (dateFormat "2006-01-02" .Date)))) }}
    <br>Last Modified on {{ dateFormat "January 2, 2006" .Params.LastMod }}
    {{ end }}
    </p>
    <a href="{{ .Permalink }}" class="btn btn-default btn-lg active btn-sm" role="button">READ MORE</a>


</div>

<hr>

{{ end }}
